import{a0 as G,a1 as fe,a2 as ue,a3 as ce,S as re,i as se,s as oe,e as Q,b as D,v as L,d as h,f as M,g as m,h as g,a4 as pe,D as le,k as E,l as v,m as P,n as y,p as W,E as $,C as X,K as de,L as me,M as _e,N as ge,q as T,a as N,r as U,c as O,H as Y,O as be,J as $e,y as R,z as q,A as F,B as H,u as he}from"../chunks/index.4d0bcc0c.js";import{b as ye,g as we}from"../chunks/navigation.f5cb4891.js";import{A as ne}from"../chunks/Alert.e8be839b.js";import{B as ke}from"../chunks/Button.d091451d.js";import{w as ae}from"../chunks/index.a268cc00.js";import{a as Ee,g as ve}from"../chunks/axios.ee6f9f09.js";const Ae={data:[],error:"",uploadProgress:0},ie=ae(Ae),V=o=>{ie.update(e=>({...e,...o}))},Pe=o=>{const e=Math.round(o.loaded/o.total*100);V({uploadProgress:e})},De=async o=>{V({error:""});try{const e=new FormData;e.append("file",o),await Ee.post("/pdfs",e,{onUploadProgress:Pe})}catch(e){return V({error:ve(e)})}},Ce=()=>{V({error:"",uploadProgress:0})};function Z(o){return Object.prototype.toString.call(o)==="[object Date]"}function z(o,e){if(o===e||o!==o)return()=>o;const r=typeof o;if(r!==typeof e||Array.isArray(o)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(o)){const t=e.map((s,l)=>z(o[l],s));return s=>t.map(l=>l(s))}if(r==="object"){if(!o||!e)throw new Error("Object cannot be null");if(Z(o)&&Z(e)){o=o.getTime(),e=e.getTime();const l=e-o;return n=>new Date(o+n*l)}const t=Object.keys(e),s={};return t.forEach(l=>{s[l]=z(o[l],e[l])}),l=>{const n={};return t.forEach(i=>{n[i]=s[i](l)}),n}}if(r==="number"){const t=e-o;return s=>o+s*t}throw new Error(`Cannot interpolate ${r} values`)}function Ie(o,e={}){const r=ae(o);let t,s=o;function l(n,i){if(o==null)return r.set(o=n),Promise.resolve();s=n;let a=t,u=!1,{delay:_=0,duration:w=400,easing:C=ce,interpolate:I=z}=G(G({},e),i);if(w===0)return a&&(a.abort(),a=null),r.set(o=s),Promise.resolve();const A=fe()+_;let S;return t=ue(j=>{if(j<A)return!0;u||(S=I(o,n),typeof w=="function"&&(w=w(o,n)),u=!0),a&&(a.abort(),a=null);const f=j-A;return f>w?(r.set(o=n),!1):(r.set(o=S(C(f/w))),!0)}),t.promise}return{set:l,update:(n,i)=>l(n(s,o),i),subscribe:r.subscribe}}function Se(o){let e,r;return{c(){e=E("div"),r=E("div"),this.h()},l(t){e=v(t,"DIV",{class:!0});var s=P(e);r=v(s,"DIV",{class:!0,role:!0,style:!0}),P(r).forEach(g),s.forEach(g),this.h()},h(){y(r,"class","flex flex-col justify-center bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-500 ease-in-out"),y(r,"role","progressbar"),W(r,"width",o[0]+"%"),y(e,"class","flex my-4 w-full h-2.5 bg-gray-200 rounded-full overflow-hidden shadow-inner dark:bg-gray-700")},m(t,s){D(t,e,s),$(e,r)},p(t,s){s&1&&W(r,"width",t[0]+"%")},i:X,o:X,d(t){t&&g(e)}}}function Te(o){let e;const r=o[5].default,t=de(r,o,o[4],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,l){t&&t.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&16)&&me(t,r,s,s[4],e?ge(r,s[4],l,null):_e(s[4]),null)},i(s){e||(m(t,s),e=!0)},o(s){h(t,s),e=!1},d(s){t&&t.d(s)}}}function Ue(o){let e,r,t,s;const l=[Te,Se],n=[];function i(a,u){return a[2].default&&a[0]===100?0:1}return e=i(o),r=n[e]=l[e](o),{c(){r.c(),t=Q()},l(a){r.l(a),t=Q()},m(a,u){n[e].m(a,u),D(a,t,u),s=!0},p(a,[u]){let _=e;e=i(a),e===_?n[e].p(a,u):(L(),h(n[_],1,1,()=>{n[_]=null}),M(),r=n[e],r?r.p(a,u):(r=n[e]=l[e](a),r.c()),m(r,1),r.m(t.parentNode,t))},i(a){s||(m(r),s=!0)},o(a){h(r),s=!1},d(a){n[e].d(a),a&&g(t)}}}function je(o,e,r){let t,{$$slots:s={},$$scope:l}=e;const n=pe(s);let{progress:i=0}=e;const a=Ie(1,{duration:1e3});return le(o,a,u=>r(0,t=u)),o.$$set=u=>{"progress"in u&&r(3,i=u.progress),"$$scope"in u&&r(4,l=u.$$scope)},o.$$.update=()=>{o.$$.dirty&8&&a.set(i)},[t,a,n,i,l,s]}class Ne extends re{constructor(e){super(),se(this,e,je,Ue,oe,{progress:3})}}function x(o){let e,r;return e=new Ne({props:{progress:o[2].uploadProgress,$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.progress=t[2].uploadProgress),s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Oe(o){let e;return{c(){e=T("Upload Complete! Returning to list...")},l(r){e=U(r,"Upload Complete! Returning to list...")},m(r,t){D(r,e,t)},d(r){r&&g(e)}}}function Be(o){let e,r;return e=new ne({props:{type:"success",$$slots:{default:[Oe]},$$scope:{ctx:o}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},p(t,s){const l={};s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function ee(o){let e,r;return e=new ne({props:{type:"error",$$slots:{default:[Le]},$$scope:{ctx:o}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},p(t,s){const l={};s&68&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Le(o){let e,r=o[2].error+"",t;return{c(){e=T("Error: "),t=T(r)},l(s){e=U(s,"Error: "),t=U(s,r)},m(s,l){D(s,e,l),D(s,t,l)},p(s,l){l&4&&r!==(r=s[2].error+"")&&he(t,r)},d(s){s&&g(e),s&&g(t)}}}function te(o){let e,r;return e=new ke({props:{className:"w-full mt-4 mb-3",disabled:o[1],$$slots:{default:[Me]},$$scope:{ctx:o}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},p(t,s){const l={};s&2&&(l.disabled=t[1]),s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Me(o){let e;return{c(){e=T("Submit")},l(r){e=U(r,"Submit")},m(r,t){D(r,e,t)},d(r){r&&g(e)}}}function Ve(o){let e,r,t,s,l,n,i,a,u,_,w,C,I,A,S,j,f=o[1]&&!o[2].error&&x(o),c=o[2].error&&ee(o),p=!o[1]&&te(o);return{c(){e=E("div"),r=E("h2"),t=T("Upload a Document"),s=N(),l=E("form"),n=E("div"),i=E("label"),a=T("Choose file"),u=N(),_=E("input"),w=N(),f&&f.c(),C=N(),c&&c.c(),I=N(),p&&p.c(),this.h()},l(d){e=v(d,"DIV",{class:!0});var b=P(e);r=v(b,"H2",{class:!0});var J=P(r);t=U(J,"Upload a Document"),J.forEach(g),s=O(b),l=v(b,"FORM",{});var k=P(l);n=v(k,"DIV",{class:!0});var B=P(n);i=v(B,"LABEL",{for:!0,class:!0});var K=P(i);a=U(K,"Choose file"),K.forEach(g),u=O(B),_=v(B,"INPUT",{type:!0,name:!0,id:!0,class:!0}),B.forEach(g),w=O(k),f&&f.l(k),C=O(k),c&&c.l(k),I=O(k),p&&p.l(k),k.forEach(g),b.forEach(g),this.h()},h(){y(r,"class","text-3xl font-bold mb-10 text-center"),y(i,"for","file-input"),y(i,"class","block mb-2 text-sm font-medium text-gray-700"),y(_,"type","file"),y(_,"name","file-input"),y(_,"id","file-input"),y(_,"class","block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer focus:border-blue-500 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:m-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-violet-700 hover:file:bg-violet-100 dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400"),y(n,"class","w-42 mb-6"),y(e,"class","w-full max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg")},m(d,b){D(d,e,b),$(e,r),$(r,t),$(e,s),$(e,l),$(l,n),$(n,i),$(i,a),$(n,u),$(n,_),$(l,w),f&&f.m(l,null),$(l,C),c&&c.m(l,null),$(l,I),p&&p.m(l,null),A=!0,S||(j=[Y(_,"change",o[4]),Y(l,"submit",be(o[3]))],S=!0)},p(d,[b]){d[1]&&!d[2].error?f?(f.p(d,b),b&6&&m(f,1)):(f=x(d),f.c(),m(f,1),f.m(l,C)):f&&(L(),h(f,1,1,()=>{f=null}),M()),d[2].error?c?(c.p(d,b),b&4&&m(c,1)):(c=ee(d),c.c(),m(c,1),c.m(l,I)):c&&(L(),h(c,1,1,()=>{c=null}),M()),d[1]?p&&(L(),h(p,1,1,()=>{p=null}),M()):p?(p.p(d,b),b&2&&m(p,1)):(p=te(d),p.c(),m(p,1),p.m(l,null))},i(d){A||(m(f),m(c),m(p),A=!0)},o(d){h(f),h(c),h(p),A=!1},d(d){d&&g(e),f&&f.d(),c&&c.d(),p&&p.d(),S=!1,$e(j)}}}function Re(o,e,r){let t;le(o,ie,a=>r(2,t=a));let s,l=!1;async function n(){r(1,l=!0),await De(s[0]),t.error?r(1,l=!1):setTimeout(()=>{we("/documents"),r(1,l=!1)},2e3)}ye(Ce);function i(){s=this.files,r(0,s)}return[s,l,t,n,i]}class Ge extends re{constructor(e){super(),se(this,e,Re,Ve,oe,{})}}export{Ge as component};
